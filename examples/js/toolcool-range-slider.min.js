// Tool Cool Range Slider v1.0.0, MIT License - https://github.com/toolcool-org/toolcool-color-picker
(()=>{var b=Object.defineProperty;var f=(i,s,e)=>s in i?b(i,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[s]=e;var o=(i,s,e)=>(f(i,typeof s!="symbol"?s+"":s,e),e);var g=".range-slider{position:relative;width:100%;height:.25rem;touch-action:none}.range-slider *{box-sizing:border-box}.container{position:absolute;width:100%;height:100%}.panel{position:absolute;z-index:10;width:100%;height:100%;background:#2d4373;border-radius:1rem;overflow:hidden;transition:.3s background-color ease}.panel:hover{background:#5f79b7}.pointer{position:absolute;z-index:20;outline:0;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.pointer-shape{background:#fff;box-shadow:0 0 2px rgb(0 0 0 / 60%);cursor:pointer;border:1px solid hsla(0,0%,88%,0.5);border-radius:100%;-webkit-transform:translateX(-50%);transform:translateX(-50%);width:15px;height:15px;transition:.3s all ease}.pointer-shape:hover{box-shadow:0 0 2px rgb(0 0 0 / 100%)}.pointer:focus .pointer-shape{border:1px solid hsl(201,72%,59%)}";var l=(i,s,e,t,n)=>(t-e)*(n-i)/(s-i)+e,u=(i,s)=>!isNaN(parseFloat(i))&&isFinite(i)?Number(i):s,c=(i,s)=>Math.round(i/s)*s;var p=class extends HTMLElement{constructor(){super();o(this,"_$slider");o(this,"_$pointer");o(this,"_$pointerShape");o(this,"_value",0);o(this,"_min",0);o(this,"_max",100);o(this,"_step");o(this,"_sliderWidth");o(this,"_sliderHeight");o(this,"_pointerWidth");o(this,"_pointerHeight");o(this,"_pointerRadius");this.attachShadow({mode:"open"}),this.pointerClicked=this.pointerClicked.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.onValueChange=this.onValueChange.bind(this),this.pointerKeyDown=this.pointerKeyDown.bind(this),this.getSafeValues=this.getSafeValues.bind(this),this.render=this.render.bind(this)}static get observedAttributes(){return["value","min","max","step","slider-width","slider-height","pointer-width","pointer-height"]}set value(e){let t=this.getSafeValues(e,this.min,this.max);this._value=t.value,this.render(),this.sendChangeEvent()}get value(){return this._value}set min(e){let t=this.getSafeValues(this.value,e,this.max);this._min=t.min,this.render()}get min(){return this._min}set max(e){let t=this.getSafeValues(this.value,this.min,e);this._max=t.max,this.render()}get max(){return this._max}set step(e){let t=Math.abs(this.max-this.min);e!==void 0&&e>t&&(e=void 0),this._step=e}get step(){return this._step}set sliderWidth(e){this._sliderWidth=e,this.render()}get sliderWidth(){return this._sliderWidth}set sliderHeight(e){this._sliderHeight=e,this.render()}get sliderHeight(){return this._sliderHeight}set pointerWidth(e){this._pointerWidth=e,this.render()}get pointerWidth(){return this._pointerWidth}set pointerHeight(e){this._pointerHeight=e,this.render()}get pointerHeight(){return this._pointerHeight}set pointerRadius(e){this._pointerRadius=e,this.render()}get pointerRadius(){return this._pointerRadius}sendChangeEvent(){this.dispatchEvent(new CustomEvent("change",{detail:{value:this.value}}))}getSafeValues(e,t,n){let r=t,d=n,h=e;return r>d&&(d=r+100),h<r&&(h=r),h>d&&(h=d),{min:r,max:d,value:h}}render(){if(!this._$slider||!this._$pointer||!this._$pointerShape)return;let e=l(this.min,this.max,0,100,this.value);this._$pointer.style.left=`${e}%`,this.sliderWidth&&(this._$slider.style.width=this.sliderWidth),this.sliderHeight&&(this._$slider.style.height=this.sliderHeight),this.pointerWidth&&(this._$pointerShape.style.width=this.pointerWidth),this.pointerHeight&&(this._$pointerShape.style.height=this.pointerHeight),this.pointerRadius&&(this._$pointerShape.style.borderRadius=this.pointerRadius)}pointerClicked(){var e;(e=this._$pointer)==null||e.focus()}pointerKeyDown(e){switch(e.key){case"ArrowLeft":{let t=u(this.step,1),n=this.getSafeValues(this.value-t,this.min,this.max);this.value=n.value,this.render();break}case"ArrowRight":{let t=u(this.step,1),n=this.getSafeValues(this.value+t,this.min,this.max);this.value=n.value,this.render();break}}}onMouseDown(e){e.preventDefault&&e.preventDefault(),this.onValueChange(e),window.addEventListener("mousemove",this.onValueChange),window.addEventListener("mouseup",this.onMouseUp)}onMouseUp(){window.removeEventListener("mousemove",this.onValueChange),window.removeEventListener("mouseup",this.onValueChange)}onValueChange(e){if(!this._$slider)return;let{width:t,left:n}=this._$slider.getBoundingClientRect(),r;e.type.indexOf("mouse")!==-1?r=e.clientX:r=e.touches[0].clientX;let h=Math.min(Math.max(0,r-n),t)*100/t,a=l(0,100,this.min,this.max,h);this.step!==void 0&&(a=c(a,this.step)),this.value=a,this.render()}connectedCallback(){var t,n,r,d,h,a;if(!this.shadowRoot)return;this.min=u(this.getAttribute("min"),0),this.max=u(this.getAttribute("max"),100),this.value=u(this.getAttribute("value"),this.min),this.step=u(this.getAttribute("step"),void 0),this.sliderWidth=this.getAttribute("slider-width")||void 0,this.sliderHeight=this.getAttribute("slider-height")||void 0,this.pointerWidth=this.getAttribute("pointer-width")||void 0,this.pointerHeight=this.getAttribute("pointer-height")||void 0,this.pointerRadius=this.getAttribute("pointer-radius")||void 0;let e=l(this.min,this.max,0,100,this.value);this.shadowRoot.innerHTML=`
        <style>
            ${g} 
        </style>

        <div class="range-slider">
          <div class="container">
            <div class="panel"></div>
            
            <div class="container">
              <div class="pointer" tabindex="0" style="left: ${e}%;">
                <div class="pointer-shape"></div>
              </div>
            </div>
            
          </div>
        </div>
    `,this._$slider=this.shadowRoot.querySelector(".range-slider"),(t=this._$slider)==null||t.addEventListener("mousedown",this.onMouseDown),(n=this._$slider)==null||n.addEventListener("mouseup",this.onMouseUp),(r=this._$slider)==null||r.addEventListener("touchmove",this.onValueChange),(d=this._$slider)==null||d.addEventListener("touchstart",this.onValueChange),this._$pointer=this.shadowRoot.querySelector(".pointer"),this._$pointerShape=this.shadowRoot.querySelector(".pointer-shape"),(h=this._$pointer)==null||h.addEventListener("click",this.pointerClicked),(a=this._$pointer)==null||a.addEventListener("keydown",this.pointerKeyDown),this.render()}disconnectedCallback(){var e,t,n,r,d,h;(e=this._$pointer)==null||e.removeEventListener("click",this.pointerClicked),(t=this._$pointer)==null||t.removeEventListener("keydown",this.pointerClicked),(n=this._$slider)==null||n.removeEventListener("mousedown",this.onMouseDown),(r=this._$slider)==null||r.removeEventListener("mouseup",this.onMouseUp),(d=this._$slider)==null||d.removeEventListener("touchmove",this.onValueChange),(h=this._$slider)==null||h.removeEventListener("touchstart",this.onValueChange)}attributeChangedCallback(e){e==="min"&&(this.min=u(this.getAttribute("min"),0),this.render()),e==="max"&&(this.max=u(this.getAttribute("max"),100),this.render()),e==="value"&&(this.value=u(this.getAttribute("value"),this.min),this.render()),e==="step"&&(this.step=u(this.getAttribute("step"),void 0)),e==="slider-width"&&(this.sliderWidth=this.getAttribute("slider-width")||void 0,this.render()),e==="slider-height"&&(this.sliderHeight=this.getAttribute("slider-height")||void 0,this.render()),e==="pointer-width"&&(this.pointerWidth=this.getAttribute("pointer-width")||void 0,this.render()),e==="pointer-height"&&(this.pointerHeight=this.getAttribute("pointer-height")||void 0,this.render()),e==="pointer-height"&&(this.pointerRadius=this.getAttribute("pointer-radius")||void 0,this.render())}},m=p;customElements.get("toolcool-range-slider")||customElements.define("toolcool-range-slider",m);})();
