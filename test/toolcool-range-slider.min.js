/* 
Tool Cool Range Slider 
Version: 1.0.19
Documentation: https://github.com/toolcool-org/toolcool-range-slider 
License: MIT License        
Author: Tool Cool, toolcool.org@gmail.com>                          
*/
(()=>{var F=Object.defineProperty;var L=Math.pow,M=(d,n,e)=>n in d?F(d,n,{enumerable:!0,configurable:!0,writable:!0,value:e}):d[n]=e;var s=(d,n,e)=>(M(d,typeof n!="symbol"?n+"":n,e),e);var E=':host{--tc-range-slider-width:300px;--tc-range-slider-height:.25rem;--tc-range-slider-opacity:.4;--tc-range-slider-panel-bg:#4d69ad;--tc-range-slider-panel-bg-hover:#5f79b7;--tc-range-slider-panel-bg-fill:#000;--tc-range-slider-panel-bg-border-radius:1rem;--tc-range-slider-pointer-width:1rem;--tc-range-slider-pointer-height:1rem;--tc-range-slider-pointer-bg:#fff;--tc-range-slider-pointer-bg-hover:#dcdcdc;--tc-range-slider-pointer-bg-focus:#dcdcdc;--tc-range-slider-pointer-shadow:0 0 2px rgba(0,0,0,0.6);--tc-range-slider-pointer-shadow-hover:0 0 2px #000;--tc-range-slider-pointer-shadow-focus:0 0 2px #000;--tc-range-slider-pointer-border:1px solid hsla(0,0%,88%,0.5);--tc-range-slider-pointer-border-hover:1px solid hsla(0,0%,88%,0.5);--tc-range-slider-pointer-border-focus:1px solid hsl(201,72%,59%);--tc-range-slider-pointer-border-radius:100%;--tc-range-slider-animate-onclick:.3s}:host{max-width:100%}.range-slider-box{display:flex;position:relative;flex-direction:column}.range-slider{position:relative;width:var(--tc-range-slider-width,100%);height:var(--tc-range-slider-height,0.25rem);touch-action:none;max-width:100%;box-sizing:border-box}.row{width:100%;display:flex;align-items:center}.disabled{opacity:var(--tc-range-slider-opacity,0.4)}.range-slider *{box-sizing:border-box}.container{position:absolute;width:100%;height:100%}.panel{position:absolute;z-index:10;width:100%;height:100%;background:var(--tc-range-slider-panel-bg,#2d4373);border-radius:var(--tc-range-slider-panel-bg-border-radius,1rem);overflow:hidden;transition:.3s all ease}.panel-fill{background:var(--tc-range-slider-panel-bg-fill,#000);border-radius:var(--tc-range-slider-panel-bg-border-radius,1rem);overflow:hidden;height:100%;position:absolute;z-index:10}.panel:hover{background:var(--tc-range-slider-panel-bg-hover,#5f79b7)}.pointer{position:absolute;z-index:20;outline:0;top:50%;-webkit-transform:translateY(-50%);transform:translateY(-50%)}.pointer-shape{background:var(--tc-range-slider-pointer-bg,#fff);box-shadow:var(--tc-range-slider-pointer-shadow);cursor:pointer;border:var(--tc-range-slider-pointer-border);border-radius:var(--tc-range-slider-pointer-border-radius,100%);-webkit-transform:translateX(-50%);transform:translateX(-50%);width:var(--tc-range-slider-pointer-width,15px);height:var(--tc-range-slider-pointer-height,15px);transition:.3s all ease}.pointer-shape:hover{background:var(--tc-range-slider-pointer-bg-hover,#fff);border:var(--tc-range-slider-pointer-border-hover);box-shadow:var(--tc-range-slider-pointer-shadow-hover)}.pointer:focus .pointer-shape{background:var(--tc-range-slider-pointer-bg-focus,#fff);border:var(--tc-range-slider-pointer-border-focus);box-shadow:var(--tc-range-slider-pointer-shadow-focus)}.max-label,.min-label,::slotted([slot="max-label"]),::slotted([slot="min-label"]){margin:0 1rem;width:2rem;text-align:center}.value-label,::slotted([slot="value-label"]){text-align:center}.type-vertical .range-slider{--tc-range-slider-width:.25rem;--tc-range-slider-height:300px;max-height:100%}.type-vertical .range-slider .pointer{left:50%}.type-vertical .range-slider .panel-fill{width:100%}.type-vertical.range-slider-box{flex-direction:row}.type-vertical .row{flex-direction:column}.type-vertical .max-label,.type-vertical .min-label,.type-vertical ::slotted([slot="max-label"]),.type-vertical ::slotted([slot="min-label"]){margin:1rem 0;width:auto}.type-vertical .value-label,.type-vertical ::slotted([slot="value-label"]){position:absolute;right:0;top:50%;order:1}.target{--tc-range-slider-panel-bg:#d7dcdf;--tc-range-slider-panel-bg-hover:#ccd1d3;--tc-range-slider-panel-bg-fill:#47a4bc;--tc-range-slider-pointer-bg:#1aa4bc;--tc-range-slider-pointer-bg-hover:#0f7b8c;--tc-range-slider-pointer-bg-focus:#0f7b8c;--tc-range-slider-pointer-shadow:0 0 0 3px #fff,0 0 0 6px #1aa4bc;--tc-range-slider-pointer-shadow-hover:0 0 0 3px #fff,0 0 0 6px #0f7b8c;--tc-range-slider-pointer-shadow-focus:0 0 0 3px #fff,0 0 0 6px #0f7b8c;--tc-range-slider-pointer-border:0;--tc-range-slider-pointer-border-hover:0;--tc-range-slider-pointer-border-focus:0}.glass{--tc-range-slider-pointer-bg:linear-gradient(to bottom,rgba(255,255,255,0) 0,rgba(206,206,206,1) 48%,rgba(255,255,255,0) 100%);--tc-range-slider-pointer-bg-hover:linear-gradient(to bottom,rgba(206,206,206,1) 0,rgba(255,255,255,0) 48%,rgba(206,206,206,1) 100%);--tc-range-slider-pointer-bg-focus:linear-gradient(to bottom,rgba(206,206,206,1) 0,rgba(255,255,255,0) 48%,rgba(206,206,206,1) 100%);--tc-range-slider-pointer-border-radius:3px}.rect{--tc-range-slider-panel-bg:#9fd2fa;--tc-range-slider-panel-bg-hover:#4075e2;--tc-range-slider-panel-bg-fill:#4075e2;--tc-range-slider-pointer-width:10px;--tc-range-slider-pointer-height:20px;--tc-range-slider-pointer-bg:#4075e2;--tc-range-slider-pointer-bg-hover:#4075e2;--tc-range-slider-pointer-bg-focus:#4075e2;--tc-range-slider-pointer-border:0;--tc-range-slider-pointer-border-hover:0;--tc-range-slider-pointer-border-focus:0;--tc-range-slider-pointer-shadow:none;--tc-range-slider-pointer-shadow-hover:none;--tc-range-slider-pointer-shadow-focus:none;--tc-range-slider-pointer-border-radius:0}.circle{--tc-range-slider-height:.3rem;--tc-range-slider-panel-bg:#e6e6e6;--tc-range-slider-panel-bg-hover:#e6e6e6;--tc-range-slider-panel-bg-fill:#60cd17;--tc-range-slider-pointer-width:1.5rem;--tc-range-slider-pointer-height:1.5rem;--tc-range-slider-pointer-bg:#333940;--tc-range-slider-pointer-bg-hover:#333940;--tc-range-slider-pointer-bg-focus:#333940;--tc-range-slider-pointer-shadow:0 4px 25px rgb(0,0,0,0.5);--tc-range-slider-pointer-shadow-hover:0 4px 25px rgb(0,0,0,0.5);--tc-range-slider-pointer-shadow-focus:0 4px 25px rgb(0,0,0,0.5);--tc-range-slider-pointer-border:6px solid #fff;--tc-range-slider-pointer-border-hover:6px solid #fff;--tc-range-slider-pointer-border-focus:6px solid #fff}.rainbow{--tc-range-slider-panel-bg:linear-gradient(90deg,rgba(255,0,0,1) 0,rgba(255,154,0,1) 10%,rgba(208,222,33,1) 20%,rgba(79,220,74,1) 30%,rgba(63,218,216,1) 40%,rgba(47,201,226,1) 50%,rgba(28,127,238,1) 60%,rgba(95,21,242,1) 70%,rgba(186,12,248,1) 80%,rgba(251,7,217,1) 90%,rgba(255,0,0,1) 100%);--tc-range-slider-panel-bg-hover:var(--tc-range-slider-panel-bg);--tc-range-slider-panel-bg-fill:rgba(0,0,0,0.6);--tc-range-slider-pointer-width:1.7rem;--tc-range-slider-pointer-height:1.7rem;--tc-range-slider-pointer-bg:#fff;--tc-range-slider-pointer-bg-hover:#dcdcdc;--tc-range-slider-pointer-bg-focus:#dcdcdc;--tc-range-slider-pointer-border:0;--tc-range-slider-pointer-border-hover:0;--tc-range-slider-pointer-border-focus:0}.ruler{--tc-range-slider-height:1rem;--tc-range-slider-panel-bg-border-radius:2px;--tc-range-slider-panel-bg:#fff;--tc-range-slider-panel-bg-hover:#fff;--tc-range-slider-panel-bg-fill:#ccc}.ruler .panel{background-size:.4rem 100%;background-repeat:repeat-x;background-image:linear-gradient(90deg,rgba(0,0,0,0) calc(50% - 2px), var(--tc-range-slider-panel-bg-fill, #000) calc(50%), rgba(0, 0, 0, 0) calc(50% + 2px))}.shape{--tc-range-slider-pointer-border:0;--tc-range-slider-pointer-border-hover:0;--tc-range-slider-pointer-border-focus:0;--tc-range-slider-pointer-border-radius:0}.shape-triangle .pointer-shape{-webkit-clip-path:polygon(50% 0,0 100%,100% 100%);clip-path:polygon(50% 0,0 100%,100% 100%)}.shape-rhombus .pointer-shape{-webkit-clip-path:polygon(50% 0,100% 50%,50% 100%,0 50%);clip-path:polygon(50% 0,100% 50%,50% 100%,0 50%)}.shape-trapezoid .pointer-shape{-webkit-clip-path:polygon(20% 0,80% 0,100% 100%,0 100%);clip-path:polygon(20% 0,80% 0,100% 100%,0 100%)}.shape-parallelogram .pointer-shape{-webkit-clip-path:polygon(25% 0,100% 0,75% 100%,0 100%);clip-path:polygon(25% 0,100% 0,75% 100%,0 100%)}.shape-right-arrow .pointer-shape{-webkit-clip-path:polygon(0 0,75% 0,100% 50%,75% 100%,0 100%);clip-path:polygon(0 0,75% 0,100% 50%,75% 100%,0 100%)}.shape-star .pointer-shape{-webkit-clip-path:polygon(50% 0,61% 35%,98% 35%,68% 57%,79% 91%,50% 70%,21% 91%,32% 57%,2% 35%,39% 35%);clip-path:polygon(50% 0,61% 35%,98% 35%,68% 57%,79% 91%,50% 70%,21% 91%,32% 57%,2% 35%,39% 35%)}.animate-on-click .pointer{transition:all var(--tc-range-slider-animate-onclick)}';var A=d=>` <style> ${d} </style> <div class="range-slider-box"> <slot name="value-label"></slot> <div class="row"> <slot name="min-label"></slot> <div id="range-slider" class="range-slider" role="slider"> <div class="container"> <div class="panel"></div> <div class="panel-fill"></div> <div class="container"> <div class="pointer pointer-1" tabindex="0"> <div class="pointer-shape"></div> </div> </div> </div> </div> <slot name="max-label"></slot> </div> </div>`;var c=(d,n,e,t,r)=>(t-e)*(r-d)/(n-d)+e,u=d=>!isNaN(parseFloat(d))&&isFinite(d),h=(d,n)=>u(d)?Number(d):n,m=(d,n)=>n===0?0:Math.round(d/n)*n,f=(d,n=1/0)=>{if(n===1/0)return d;let e=L(10,n);return Math.round(d*e)/e};var v="tc-range-slider";var B=d=>{if(d==="local-storage"){let n="test";try{return window.localStorage.setItem(n,n),window.localStorage.removeItem(n),!0}catch(e){return!1}}if(d==="session-storage"){let n="test";try{return window.sessionStorage.setItem(n,n),window.sessionStorage.removeItem(n),!0}catch(e){return!1}}return!1},R=(d,n)=>{let e=encodeURIComponent(typeof n=="object"?JSON.stringify(n):n);window.localStorage.setItem(d,e)},I=d=>{let n=window.localStorage.getItem(d);return n===null?null:decodeURIComponent(n)},D=(d,n)=>{let e=encodeURIComponent(typeof n=="object"?JSON.stringify(n):n);window.sessionStorage.setItem(d,e)},V=d=>{let n=window.sessionStorage.getItem(d);return n===null?null:decodeURIComponent(n)},g=(d,n,e)=>{if(!!B(d))switch(d){case"local-storage":{R(n,e);break}case"session-storage":{D(n,e);break}}},H=(d,n)=>B(d)?d==="local-storage"?I(n):d==="session-storage"?V(n):null:null;var _=class extends HTMLElement{constructor(){super();s(this,"_$box");s(this,"_$slider");s(this,"_$panelFill");s(this,"_$pointer");s(this,"_$pointer2");s(this,"_$valueLabel");s(this,"_$valueLabel2");s(this,"_$minLabel");s(this,"_$maxLabel");s(this,"_value",0);s(this,"_value2");s(this,"_data");s(this,"_min",0);s(this,"_max",100);s(this,"_step");s(this,"_round",2);s(this,"_type");s(this,"_theme");s(this,"_disabled",!1);s(this,"_rtl",!1);s(this,"_btt",!1);s(this,"_storage");s(this,"_storageKey",v);s(this,"_storageInitialized",!1);s(this,"_valueLabel");s(this,"_valueLabel2");s(this,"_generateLabels",!1);s(this,"_animateOnClick");s(this,"_animating",!1);s(this,"_sliderWidth");s(this,"_sliderHeight");s(this,"_sliderRadius");s(this,"_sliderBg");s(this,"_sliderBgHover");s(this,"_sliderBgFill");s(this,"_pointerWidth");s(this,"_pointerHeight");s(this,"_pointerRadius");s(this,"_pointerShape");s(this,"_pointerBg");s(this,"_pointerBgHover");s(this,"_pointerBgFocus");s(this,"_pointerShadow");s(this,"_pointerShadowHover");s(this,"_pointerShadowFocus");s(this,"_pointerBorder");s(this,"_pointerBorderHover");s(this,"_pointerBorderFocus");this.attachShadow({mode:"open"}),this.pointerClicked=this.pointerClicked.bind(this),this.pointerMouseWheel=this.pointerMouseWheel.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onMouseUp=this.onMouseUp.bind(this),this.onValueChange=this.onValueChange.bind(this),this.pointerKeyDown=this.pointerKeyDown.bind(this),this.getSafeValues=this.getSafeValues.bind(this),this.stepBack=this.stepBack.bind(this),this.stepForward=this.stepForward.bind(this),this.render=this.render.bind(this),this.onTransitionEnd=this.onTransitionEnd.bind(this)}static get observedAttributes(){return["value","value2","data","min","max","step","round","type","theme","disabled","rtl","btt","storage","storage-key","slider-width","slider-height","slider-radius","slider-bg","slider-bg-hover","slider-bg-fill","pointer-width","pointer-height","pointer-radius","pointer-shape","pointer-bg","pointer-bg-hover","pointer-bg-focus","pointer-shadow","pointer-shadow-hover","pointer-shadow-focus","pointer-border","pointer-border-hover","pointer-border-focus","value-label","value-label2","generate-labels","animate-onclick"]}set value(e){if(this.data){let t=u(e)?Number(e):e;this.data.find(i=>i===t)!==void 0&&(this._value=t,this.render(),this.sendChangeEvent(),this.storage&&this._storageInitialized&&g(this.storage,this.storageKey,t))}else{let t=this.getSafeValues(e,this.min,this.max);this._value=t.value,this.render(),this.sendChangeEvent(),this.storage&&this._storageInitialized&&g(this.storage,this.storageKey,t.value)}}set value2(e){if(e===void 0){this._value2=e,this.render(),this.sendChangeEvent(),this.storage&&this._storageInitialized&&g(this.storage,this.storageKey2,e);return}if(this.data){let t=u(e)?Number(e):e;this.data.find(i=>i===t)!==void 0&&(this._value2=t,this.render(),this.sendChangeEvent(),this.storage&&this._storageInitialized&&g(this.storage,this.storageKey2,t))}else{let t=this.getSafeValues(e,this.min,this.max);this._value2=t.value,this.render(),this.sendChangeEvent(),this.storage&&this._storageInitialized&&g(this.storage,this.storageKey2,t.value)}}get value(){return this._value}get value2(){return this._value2}set data(e){this._data=e,this.render()}get data(){return this._data}set min(e){if(this.data)this._min=u(e)?h(e,this.data[0]):this.data[0];else{let t=this.getSafeValues(this.value,e,this.max);this._min=t.min,this.value=t.value}this.render()}get min(){return this._min}set max(e){if(this.data){let t=this.data[this.data.length-1];this._max=u(e)?h(e,t):t}else{let t=this.getSafeValues(this.value,this.min,e);this._max=t.max,this.value=t.value}this.render()}get max(){return this._max}set step(e){if(typeof e=="function"){this._step=e;return}let t=this.data?0:this.min,r=this.data?this.data.length-1:this.max,i=Math.abs(r-t);if(e===void 0){this._step=void 0;return}if(e>i){this._step=void 0;return}this._step=Math.abs(e)}get step(){return this._step}set round(e){this._round=e,this.render()}get round(){return this._round}set type(e){this._type=e,this.render()}get type(){return this._type}set theme(e){this._theme=e,this.render()}get theme(){return this._theme}set rtl(e){this._rtl=e,this.render()}get rtl(){return this._rtl}set btt(e){this._btt=e,this.render()}get btt(){return this._btt}set disabled(e){this._disabled=e,this.render()}get disabled(){return this._disabled}set animateOnClick(e){this._animateOnClick=e,this.render()}get animateOnClick(){return this._animateOnClick}set storage(e){this._storage=e,this.render()}get storage(){return this._storage}set storageKey(e){this._storageKey=e,this.render()}get storageKey(){return this._storageKey}get storageKey2(){return`${this._storageKey}-2`}set valueLabel(e){this._valueLabel=e,this.render()}get valueLabel(){return this._valueLabel}set valueLabel2(e){this._valueLabel2=e,this.render()}get valueLabel2(){return this._valueLabel2}set generateLabels(e){this._generateLabels=e,this.render()}get generateLabels(){return this._generateLabels}set sliderWidth(e){this._sliderWidth=e,this.render()}get sliderWidth(){return this._sliderWidth}set sliderHeight(e){this._sliderHeight=e,this.render()}get sliderHeight(){return this._sliderHeight}set sliderRadius(e){this._sliderRadius=e,this.render()}get sliderRadius(){return this._sliderRadius}set sliderBg(e){this._sliderBg=e,this.render()}get sliderBg(){return this._sliderBg}set sliderBgHover(e){this._sliderBgHover=e,this.render()}get sliderBgHover(){return this._sliderBgHover}set sliderBgFill(e){this._sliderBgFill=e,this.render()}get sliderBgFill(){return this._sliderBgFill}set pointerWidth(e){this._pointerWidth=e,this.render()}get pointerWidth(){return this._pointerWidth}set pointerHeight(e){this._pointerHeight=e,this.render()}get pointerHeight(){return this._pointerHeight}set pointerRadius(e){this._pointerRadius=e,this.render()}get pointerRadius(){return this._pointerRadius}set pointerShape(e){this._pointerShape=e,this.render()}get pointerShape(){return this._pointerShape}set pointerBg(e){this._pointerBg=e,this.render()}get pointerBg(){return this._pointerBg}set pointerBgHover(e){this._pointerBgHover=e,this.render()}get pointerBgHover(){return this._pointerBgHover}set pointerBgFocus(e){this._pointerBgFocus=e,this.render()}get pointerBgFocus(){return this._pointerBgFocus}set pointerShadow(e){this._pointerShadow=e,this.render()}get pointerShadow(){return this._pointerShadow}set pointerShadowHover(e){this._pointerShadowHover=e,this.render()}get pointerShadowHover(){return this._pointerShadowHover}set pointerShadowFocus(e){this._pointerShadowFocus=e,this.render()}get pointerShadowFocus(){return this._pointerShadowFocus}set pointerBorder(e){this._pointerBorder=e,this.render()}get pointerBorder(){return this._pointerBorder}set pointerBorderHover(e){this._pointerBorderHover=e,this.render()}get pointerBorderHover(){return this._pointerBorderHover}set pointerBorderFocus(e){this._pointerBorderFocus=e,this.render()}get pointerBorderFocus(){return this._pointerBorderFocus}sendPointerClickedEvent(e){this.dispatchEvent(new CustomEvent("onPointerClicked",{detail:{$pointer:e}}))}sendMouseDownEvent(e){this.dispatchEvent(new CustomEvent("onMouseDown",{detail:{nativeEvent:e}}))}sendMouseUpEvent(e){this.dispatchEvent(new CustomEvent("onMouseUp",{detail:{nativeEvent:e}}))}sendChangeEvent(){this.dispatchEvent(new CustomEvent("change",{detail:{value:this.value}}))}sendOnKeyDownEvent(e){this.dispatchEvent(new CustomEvent("onKeyDown",{detail:{nativeEvent:e}}))}getSafeValues(e,t,r){let i=t,a=r,o=e;return i>a&&(a=i+100),o<i&&(o=i),o>a&&(o=a),{min:i,max:a,value:f(o,this.round)}}parseData(e){if(e==null||e.trim()==="")return;let r=e.split(","),i=[],a=!0;for(let o=0;o<r.length;o++){let l=r[o].trim();l!==""&&(i.push(l),u(l)||(a=!1))}return a?i.map(o=>Number(o)):i}findValueIndexInData(e){return this.data?this.data.findIndex(t=>t===e||t.toString().trim()===e.toString().trim()):-1}render(){var l;if(!this._$slider||!this._$pointer||!this._$panelFill)return;let e,t,r,i;this.data?(e=0,t=this.data.length-1,r=this.findValueIndexInData(this.value),r===-1&&(r=e),this.value2!==void 0&&(i=this.findValueIndexInData(this.value2),i===-1&&(i=e))):(e=this.min,t=this.max,r=this.value,this.value2!==void 0&&(i=this.value2));let a=c(e,t,0,100,r),o=this.value2===void 0||i===void 0?0:c(e,t,0,100,i);this.type==="vertical"?(this.btt?(this._$pointer.style.top=`${100-a}%`,this._$panelFill.style.height=`${a}%`,this._$panelFill.style.bottom="0%",this._$panelFill.style.top="auto",this.value2!==void 0&&this._$pointer2&&(this._$pointer2.style.top=`${100-o}%`)):(this._$pointer.style.top=`${a}%`,this._$panelFill.style.height=`${a}%`,this._$panelFill.style.bottom="auto",this._$panelFill.style.top="0%",this.value2!==void 0&&this._$pointer2&&(this._$pointer2.style.top=`${a}%`)),this._$slider.setAttribute("aria-orientation","vertical")):(this.rtl?(this._$pointer.style.left=`${100-a}%`,this._$panelFill.style.width=`${a}%`,this._$panelFill.style.right="0%",this._$panelFill.style.left="auto",this.value2!==void 0&&this._$pointer2&&(this._$pointer2.style.left=`${100-o}%`)):(this._$pointer.style.left=`${a}%`,this._$panelFill.style.width=`${a}%`,this._$panelFill.style.right="auto",this._$panelFill.style.left="0%",this.value2!==void 0&&this._$pointer2&&(this._$pointer2.style.left=`${o}%`)),this._$slider.setAttribute("aria-orientation","horizontal")),this._$valueLabel&&(this._$valueLabel.textContent=this.data?this.value.toString():f(r,this.round).toString()),this._$valueLabel2&&this.value2!==void 0&&i!==void 0&&(this._$valueLabel2.textContent=this.data?this.value2.toString():f(i,this.round).toString()),this._$slider.setAttribute("aria-valuemin",e.toString()),this._$slider.setAttribute("aria-valuemax",t.toString()),this._$slider.setAttribute("aria-valuenow",r.toString()),this._$slider.setAttribute("aria-valuetext",r.toString()),this.type&&((l=this._$box)==null||l.classList.add(`type-${this.type}`)),this.theme&&this._$slider.classList.add(this.theme),this.disabled?(this._$slider.classList.add("disabled"),this._$slider.setAttribute("aria-disabled","true")):(this._$slider.classList.remove("disabled"),this._$slider.hasAttribute("aria-disabled")&&this._$slider.removeAttribute("aria-disabled")),this.generateLabels&&(this._$minLabel&&(this._$minLabel.textContent=this.min.toString()),this._$maxLabel&&(this._$maxLabel.textContent=this.max.toString()),this._$valueLabel&&(this._$valueLabel.textContent=this.value.toString()),this._$valueLabel2&&this.value2!==void 0&&(this._$valueLabel2.textContent=this.value2.toString())),this.pointerShape&&this._$slider.classList.add("shape",`shape-${this.pointerShape}`),this.sliderWidth&&this._$slider.style.setProperty("--tc-range-slider-width",this.sliderWidth),this.sliderHeight&&this._$slider.style.setProperty("--tc-range-slider-height",this.sliderHeight),this.sliderRadius&&this._$slider.style.setProperty("--tc-range-slider-panel-bg-border-radius",this.sliderRadius),this.sliderBg&&this._$slider.style.setProperty("--tc-range-slider-panel-bg",this.sliderBg),this.sliderBgHover&&this._$slider.style.setProperty("--tc-range-slider-panel-bg-hover",this.sliderBgHover),this.sliderBgFill&&this._$slider.style.setProperty("--tc-range-slider-panel-bg-fill",this.sliderBgFill),this.pointerWidth&&this._$slider.style.setProperty("--tc-range-slider-pointer-width",this.pointerWidth),this.pointerHeight&&this._$slider.style.setProperty("--tc-range-slider-pointer-height",this.pointerHeight),this.pointerRadius&&this._$slider.style.setProperty("--tc-range-slider-pointer-border-radius",this.pointerRadius),this.pointerBg&&this._$slider.style.setProperty("--tc-range-slider-pointer-bg",this.pointerBg),this.pointerBgHover&&this._$slider.style.setProperty("--tc-range-slider-pointer-bg-hover",this.pointerBgHover),this.pointerBgFocus&&this._$slider.style.setProperty("--tc-range-slider-pointer-bg-focus",this.pointerBgFocus),this.pointerShadow&&this._$slider.style.setProperty("--tc-range-slider-pointer-shadow",this.pointerShadow),this.pointerShadowHover&&this._$slider.style.setProperty("--tc-range-slider-pointer-shadow-hover",this.pointerShadowHover),this.pointerShadowFocus&&this._$slider.style.setProperty("--tc-range-slider-pointer-shadow-focus",this.pointerShadowFocus),this.pointerBorder&&this._$slider.style.setProperty("--tc-range-slider-pointer-border",this.pointerBorder),this.pointerBorderHover&&this._$slider.style.setProperty("--tc-range-slider-pointer-border-hover",this.pointerBorderHover),this.pointerBorderFocus&&this._$slider.style.setProperty("--tc-range-slider-pointer-border-focus",this.pointerBorderFocus)}pointerClicked(e){if(this.disabled)return;let t=e.currentTarget;t.focus(),this.sendPointerClickedEvent(t)}pointerMouseWheel(e){if(document.activeElement!==this)return;e.stopPropagation(),e.preventDefault(),e.deltaY<0?this.stepBack():this.stepForward()}stepBack(){var e,t;if(this.data){let r=this._$pointer2&&((e=this._$pointer2)==null?void 0:e.matches(":focus-within"))&&this.value2!==void 0,i=this.findValueIndexInData(r&&this.value2!==void 0?this.value2:this.value);if(i!==-1){let a=typeof this.step=="function"?this.step(i):h(this.step,1),o=i-a;this.data[o]!==void 0&&(r?this.value2=this.data[o]:this.value=this.data[o])}}else if(this._$pointer2&&((t=this._$pointer2)==null?void 0:t.matches(":focus-within"))){let r=typeof this.step=="function"?this.step(this.value2):h(this.step,1),i=this.getSafeValues(this.value2-r,this.min,this.max);this.value2=i.value}else{let r=typeof this.step=="function"?this.step(this.value):h(this.step,1),i=this.getSafeValues(this.value-r,this.min,this.max);this.value=i.value}this.render()}stepForward(){var e,t;if(this.data){let r=this._$pointer2&&((e=this._$pointer2)==null?void 0:e.matches(":focus-within"))&&this.value2!==void 0,i=this.findValueIndexInData(r&&this.value2!==void 0?this.value2:this.value);if(i!==-1){let a=typeof this.step=="function"?this.step(i):h(this.step,1),o=i+a;this.data[o]!==void 0&&(r?this.value2=this.data[o]:this.value=this.data[o])}}else if(this._$pointer2&&((t=this._$pointer2)==null?void 0:t.matches(":focus-within"))){let r=typeof this.step=="function"?this.step(this.value2):h(this.step,1),i=this.getSafeValues(this.value2+r,this.min,this.max);this.value2=i.value}else{let r=typeof this.step=="function"?this.step(this.value):h(this.step,1),i=this.getSafeValues(this.value+r,this.min,this.max);this.value=i.value}this.render()}onTransitionEnd(){var e;this._animating=!1,(e=this._$slider)==null||e.classList.remove("animate-on-click")}pointerKeyDown(e){var t,r,i,a;if(!this.disabled){switch(e.key){case"ArrowLeft":{this.type==="vertical"?(this._$pointer2&&((t=this._$pointer2)==null?void 0:t.matches(":focus-within"))?this.value2=this.min:this.value=this.min,this.render()):this.stepBack();break}case"ArrowRight":{this.type==="vertical"?(this._$pointer2&&((r=this._$pointer2)==null?void 0:r.matches(":focus-within"))?this.value2=this.max:this.value=this.max,this.render()):this.stepForward();break}case"ArrowUp":{this.type==="vertical"?this.stepBack():(this._$pointer2&&((i=this._$pointer2)==null?void 0:i.matches(":focus-within"))?this.value2=this.min:this.value=this.min,this.render());break}case"ArrowDown":{this.type==="vertical"?this.stepForward():(this._$pointer2&&((a=this._$pointer2)==null?void 0:a.matches(":focus-within"))?this.value2=this.max:this.value=this.max,this.render());break}}this.sendOnKeyDownEvent(e)}}onMouseDown(e){var t,r;if(!this.disabled){if(e.preventDefault&&e.preventDefault(),(t=this._$pointer)==null||t.focus(),this.animateOnClick&&!this._animating){let i=e.target;!i.classList.contains("pointer-shape")&&!i.classList.contains("pointer")&&(this._animating=!0,(r=this._$slider)==null||r.classList.add("animate-on-click"))}this.onValueChange(e),this.sendMouseDownEvent(e),window.addEventListener("mousemove",this.onValueChange),window.addEventListener("mouseup",this.onMouseUp)}}onMouseUp(e){this.disabled||(window.removeEventListener("mousemove",this.onValueChange),window.removeEventListener("mouseup",this.onValueChange),this.sendMouseUpEvent(e))}onValueChange(e){if(this.disabled||!this._$slider)return;let t;if(this.type==="vertical"){let{height:r,top:i}=this._$slider.getBoundingClientRect(),a;e.type.indexOf("mouse")!==-1?a=e.clientY:a=e.touches[0].clientY,t=Math.min(Math.max(0,a-i),r)*100/r,this.btt&&(t=100-t)}else{let{width:r,left:i}=this._$slider.getBoundingClientRect(),a;e.type.indexOf("mouse")!==-1?a=e.clientX:a=e.touches[0].clientX,t=Math.min(Math.max(0,a-i),r)*100/r,this.rtl&&(t=100-t)}if(this.data){let r=Math.round(c(0,100,0,this.data.length-1,t)),i=typeof this.step=="function"?this.step(r):this.step;i!==void 0&&(r=m(r,i)),this.onValueChangeHelper(!0,this.data[r])}else{let r=c(0,100,this.min,this.max,t),i=typeof this.step=="function"?this.step(r):this.step;i!==void 0&&(r=m(r,i)),this.onValueChangeHelper(!1,r)}this.render()}onValueChangeHelper(e,t){var r,i,a;if(this.value2!==void 0){if(!e){let o=Math.abs(t-this.value),l=Math.abs(t-this.value2);o<=l?(this.value=t,(r=this._$pointer)==null||r.focus()):(this.value2=t,(i=this._$pointer2)==null||i.focus())}}else this.value=t,(a=this._$pointer)==null||a.focus()}getStringOrNumber(e,t,r){let i=this.getAttribute(e);return this.data?u(i)?h(i,r):i!=null?i:r:h(i,t)}initLabel(e,t){var i,a;let r=this.querySelector(`[slot="${t}"]`);if(r)this[e]=r.querySelector(`.${t}`);else{let o=document.createElement("label");o.classList.add(t),o.setAttribute("for","range-slider");let l=(i=this._$box)==null?void 0:i.querySelector(".row");switch(t){case"min-label":{this.rtl||this.btt?l==null||l.append(o):l==null||l.prepend(o);break}case"max-label":{this.rtl||this.btt?l==null||l.prepend(o):l==null||l.append(o);break}case"value-label":{(a=this._$box)==null||a.prepend(o);break}}this[e]=o}}connectedCallback(){var e,t,r,i,a,o,l,y,w,$,x,S;if(!!this.shadowRoot){if(this.data=this.parseData(this.getAttribute("data")),this.min=this.getStringOrNumber("min",0,this.data?this.data[0]:""),this.max=this.getStringOrNumber("max",100,this.data?this.data[this.data.length-1]:""),this.value=this.getStringOrNumber("value",this.min,this.data?this.data[0]:""),this.getAttribute("value2")!==null&&(this.value2=this.getStringOrNumber("value2",this.min,this.data?this.data[0]:"")),this.step=h(this.getAttribute("step"),void 0),this.round=h(this.getAttribute("round"),2),this.round<0&&(this.round=2),this.type=this.getAttribute("type")||void 0,this.theme=this.getAttribute("theme")||void 0,this.disabled=this.getAttribute("disabled")==="true",this.rtl=this.getAttribute("rtl")==="true",this.btt=this.getAttribute("btt")==="true",this.valueLabel=this.getAttribute("value-label")||void 0,this.generateLabels=this.getAttribute("generate-labels")==="true",this.animateOnClick=this.getAttribute("animate-onclick")||void 0,this.storage=this.getAttribute("storage")||void 0,this.storageKey=this.getAttribute("storage-key")||v,this.sliderWidth=this.getAttribute("slider-width")||void 0,this.sliderHeight=this.getAttribute("slider-height")||void 0,this.sliderRadius=this.getAttribute("slider-radius")||void 0,this.sliderBg=this.getAttribute("slider-bg")||void 0,this.sliderBgHover=this.getAttribute("slider-bg-hover")||void 0,this.sliderBgFill=this.getAttribute("slider-bg-fill")||void 0,this.pointerWidth=this.getAttribute("pointer-width")||void 0,this.pointerHeight=this.getAttribute("pointer-height")||void 0,this.pointerRadius=this.getAttribute("pointer-radius")||void 0,this.pointerShape=this.getAttribute("pointer-shape")||void 0,this.pointerBg=this.getAttribute("pointer-bg")||void 0,this.pointerBgHover=this.getAttribute("pointer-bg-hover")||void 0,this.pointerBgFocus=this.getAttribute("pointer-bg-focus")||void 0,this.pointerShadow=this.getAttribute("pointer-shadow")||void 0,this.pointerShadowHover=this.getAttribute("pointer-shadow-hover")||void 0,this.pointerShadowFocus=this.getAttribute("pointer-shadow-focus")||void 0,this.pointerBorder=this.getAttribute("pointer-border")||void 0,this.pointerBorderHover=this.getAttribute("pointer-border-hover")||void 0,this.pointerBorderFocus=this.getAttribute("pointer-border-focus")||void 0,this.shadowRoot.innerHTML=A(E),this._$box=this.shadowRoot.querySelector(".range-slider-box"),this._$slider=this.shadowRoot.querySelector(".range-slider"),this._$pointer=this.shadowRoot.querySelector(".pointer"),this.value2!==void 0&&(this._$pointer2=(e=this._$pointer)==null?void 0:e.cloneNode(!0),this._$pointer2.classList.add("pointer-2"),(t=this._$pointer)==null||t.after(this._$pointer2)),this._$panelFill=this.shadowRoot.querySelector(".panel-fill"),this.valueLabel&&(this._$valueLabel=document.querySelector(this.valueLabel)),this.valueLabel2&&(this._$valueLabel2=document.querySelector(this.valueLabel2)),this.generateLabels&&(this.initLabel("_$minLabel","min-label"),this.initLabel("_$maxLabel","max-label"),this.initLabel("_$valueLabel","value-label"),this.initLabel("_$valueLabel2","value-label2"),this.rtl||this.btt)){let p=this.shadowRoot.querySelector('slot[name="min-label"]'),k=this.shadowRoot.querySelector('slot[name="max-label"]');p&&((r=this._$slider)==null||r.after(p)),k&&((i=this._$slider)==null||i.before(k))}if((a=this._$slider)==null||a.addEventListener("mousedown",this.onMouseDown),(o=this._$slider)==null||o.addEventListener("mouseup",this.onMouseUp),(l=this._$slider)==null||l.addEventListener("touchmove",this.onValueChange),(y=this._$slider)==null||y.addEventListener("touchstart",this.onValueChange),(w=this._$pointer)==null||w.addEventListener("click",this.pointerClicked),($=this._$pointer)==null||$.addEventListener("keydown",this.pointerKeyDown),this._$pointer2&&(this._$pointer2.addEventListener("click",this.pointerClicked),this._$pointer2.addEventListener("keydown",this.pointerKeyDown)),document.addEventListener("wheel",this.pointerMouseWheel,{passive:!1}),this.animateOnClick&&((x=this._$slider)==null||x.style.setProperty("--tc-range-slider-animate-onclick",this.animateOnClick),(S=this._$slider)==null||S.addEventListener("transitionend",this.onTransitionEnd)),this.storage){this._storageInitialized=!0;let p=H(this.storage,this.storageKey);u(p)?this.value=h(p,this.min):p&&(this.value=p)}this.render()}}disconnectedCallback(){var e,t,r,i,a,o,l;(e=this._$pointer)==null||e.removeEventListener("click",this.pointerClicked),(t=this._$pointer)==null||t.removeEventListener("keydown",this.pointerClicked),this._$pointer2&&(this._$pointer2.removeEventListener("click",this.pointerClicked),this._$pointer2.removeEventListener("keydown",this.pointerKeyDown)),document.removeEventListener("wheel",this.pointerMouseWheel),(r=this._$slider)==null||r.removeEventListener("mousedown",this.onMouseDown),(i=this._$slider)==null||i.removeEventListener("mouseup",this.onMouseUp),(a=this._$slider)==null||a.removeEventListener("touchmove",this.onValueChange),(o=this._$slider)==null||o.removeEventListener("touchstart",this.onValueChange),this.animateOnClick&&((l=this._$slider)==null||l.removeEventListener("transitionend",this.onTransitionEnd))}attributeChangedCallback(e){var t;switch(e){case"min":{this.min=this.getStringOrNumber("min",0,this.data?this.data[0]:""),this.render();break}case"max":{this.max=this.getStringOrNumber("max",100,this.data?this.data[this.data.length-1]:""),this.render();break}case"value":{this.value=this.getStringOrNumber("value",this.min,this.data?this.data[0]:""),this.render();break}case"value2":{this.value2=this.getStringOrNumber("value2",this.min,this.data?this.data[0]:""),this.render();break}case"data":{this.data=this.parseData(this.getAttribute("data")),this.render();break}case"step":{this.step=h(this.getAttribute("step"),void 0);break}case"round":{this.round=h(this.getAttribute("round"),2),this.round<0&&(this.round=2);break}case"type":{this.type=this.getAttribute("type")||void 0,this.render();break}case"theme":{this.theme=this.getAttribute("theme")||void 0,this.render();break}case"rtl":{this.rtl=this.getAttribute("rtl")==="true",this.render();break}case"btt":{this.btt=this.getAttribute("btt")==="true",this.render();break}case"disabled":{this.disabled=this.getAttribute("disabled")==="true",this.render();break}case"animate-onclick":{this.animateOnClick=this.getAttribute("animate-onclick")||void 0,this.animateOnClick&&((t=this._$slider)==null||t.style.setProperty("--tc-range-slider-animate-onclick",this.animateOnClick)),this.render();break}case"storage":{this.storage=this.getAttribute("storage")||void 0;break}case"storage-key":{this.storageKey=this.getAttribute("storage-key")||v;break}case"value-label":{this.valueLabel=this.getAttribute("value-label")||void 0,this.render();break}case"value-label2":{this.valueLabel2=this.getAttribute("value-label2")||void 0,this.render();break}case"generate-labels":{this.generateLabels=this.getAttribute("generate-labels")==="true",this.render();break}case"slider-width":{this.sliderWidth=this.getAttribute("slider-width")||void 0,this.render();break}case"slider-height":{this.sliderHeight=this.getAttribute("slider-height")||void 0,this.render();break}case"slider-radius":{this.sliderRadius=this.getAttribute("slider-radius")||void 0,this.render();break}case"slider-bg":{this.sliderBg=this.getAttribute("slider-bg")||void 0,this.render();break}case"slider-bg-hover":{this.sliderBgHover=this.getAttribute("slider-bg-hover")||void 0,this.render();break}case"slider-bg-fill":{this.sliderBgFill=this.getAttribute("slider-bg-fill")||void 0,this.render();break}case"pointer-width":{this.pointerWidth=this.getAttribute("pointer-width")||void 0,this.render();break}case"pointer-height":{this.pointerHeight=this.getAttribute("pointer-height")||void 0,this.render();break}case"pointer-radius":{this.pointerRadius=this.getAttribute("pointer-radius")||void 0,this.render();break}case"pointer-shape":{this.pointerShape=this.getAttribute("pointer-shape")||void 0,this.render();break}case"pointer-bg":{this.pointerBg=this.getAttribute("pointer-bg")||void 0,this.render();break}case"pointer-bg-hover":{this.pointerBgHover=this.getAttribute("pointer-bg-hover")||void 0,this.render();break}case"pointer-bg-focus":{this.pointerBgFocus=this.getAttribute("pointer-bg-focus")||void 0,this.render();break}case"pointer-shadow":{this.pointerShadow=this.getAttribute("pointer-shadow")||void 0,this.render();break}case"pointer-shadow-hover":{this.pointerShadowHover=this.getAttribute("pointer-shadow-hover")||void 0,this.render();break}case"pointer-shadow-focus":{this.pointerShadowFocus=this.getAttribute("pointer-shadow-focus")||void 0,this.render();break}case"pointer-border":{this.pointerBorder=this.getAttribute("pointer-border")||void 0,this.render();break}case"pointer-border-hover":{this.pointerBorderHover=this.getAttribute("pointer-border-hover")||void 0,this.render();break}case"pointer-border-focus":{this.pointerBorderFocus=this.getAttribute("pointer-border-focus")||void 0,this.render();break}}}},C=_;customElements.get("toolcool-range-slider")||customElements.define("toolcool-range-slider",C);})();
